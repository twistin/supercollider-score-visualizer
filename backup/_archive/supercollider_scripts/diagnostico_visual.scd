// ğŸ¯ DIAGNÃ“STICO VISUAL - Test especÃ­fico para problemas de renderizado
// Puerto OSC: 57124

"ğŸ” Iniciando diagnÃ³stico visual...".postln;

// ConfiguraciÃ³n OSC
~osc = NetAddr.new("127.0.0.1", 57124);
"ğŸ“¡ OSC configurado en puerto 57124".postln;

// ========== TESTS VISUALES ESPECÃFICOS ==========

~testVisualSimple = {
    "ğŸ§ª === TEST VISUAL SIMPLE - UN SOLO PUNTO ===".postln;
    // Un punto que dura mucho tiempo para ver si llega al final
    ~osc.sendMsg("/event", "point", 440, 0.8, 10.0, 0.1, 0.1, 0.5, 0.0, 0.0, 220);
    "âœ… Punto enviado: 440Hz, 10 segundos de duraciÃ³n".postln;
    "ğŸ‘€ OBSERVA: Â¿El punto llega al final de la pantalla?".postln;
};

~testVisualGliss = {
    "ğŸ§ª === TEST VISUAL GLISSANDO - TRAYECTORIA COMPLETA ===".postln;
    // Glissando lento para seguir toda la trayectoria
    ~osc.sendMsg("/event", "gliss", 220, 880, 0.7, 8.0, 0, 0.1, 0.1, 0.7, 0.2, 0.1, 120);
    "âœ… Glissando enviado: 220â†’880Hz, 8 segundos".postln;
    "ğŸ‘€ OBSERVA: Â¿La lÃ­nea va de izquierda a derecha completamente?".postln;
};

~testVisualLargo = {
    "ğŸ§ª === TEST VISUAL DURACIÃ“N LARGA ===".postln;
    // Evento muy largo para probar los lÃ­mites del sistema
    ~osc.sendMsg("/event", "point", 660, 0.6, 15.0, 0.2, 0.3, 0.8, 0.1, 0.1, 300);
    "âœ… Evento largo enviado: 15 segundos".postln;
    "ğŸ‘€ OBSERVA: Â¿Se mantiene visible durante toda la duraciÃ³n?".postln;
};

~testVisualIntensidad = {
    "ğŸ§ª === TEST VISUAL INTENSIDAD ALTA ===".postln;
    // Evento con mÃ¡xima intensidad visual
    ~osc.sendMsg("/event", "point", 880, 1.0, 5.0, 0.0, 0.0, 1.0, 1.0, 1.0, 500);
    "âœ… Evento de alta intensidad enviado".postln;
    "ğŸ‘€ OBSERVA: Â¿Se ve brillante y llamativo?".postln;
};

~testVisualSecuencia = {
    "ğŸ§ª === TEST VISUAL SECUENCIA TEMPORAL ===".postln;
    "Enviando 5 puntos espaciados cada 2 segundos...".postln;
    
    ~osc.sendMsg("/event", "point", 220, 0.7, 1.5, 0.1, 0.1, 0.5, 0.0, 0.0, 100);
    { 2.wait; ~osc.sendMsg("/event", "point", 330, 0.7, 1.5, 0.1, 0.1, 0.5, 0.2, 0.2, 150); }.fork;
    { 4.wait; ~osc.sendMsg("/event", "point", 440, 0.7, 1.5, 0.1, 0.1, 0.5, 0.4, 0.4, 200); }.fork;
    { 6.wait; ~osc.sendMsg("/event", "point", 660, 0.7, 1.5, 0.1, 0.1, 0.5, 0.6, 0.6, 250); }.fork;
    { 8.wait; ~osc.sendMsg("/event", "point", 880, 0.7, 1.5, 0.1, 0.1, 0.5, 0.8, 0.8, 300); }.fork;
    
    "ğŸ‘€ OBSERVA: Â¿Los puntos aparecen en secuencia y se mueven correctamente?".postln;
};

// ========== MENSAJE DE USO ==========

"".postln;
"ğŸ¯ TESTS DE DIAGNÃ“STICO VISUAL DISPONIBLES:".postln;
"".postln;
"  â€¢ ~testVisualSimple.()     - Un punto de 10 segundos".postln;
"  â€¢ ~testVisualGliss.()      - Glissando de 8 segundos".postln;
"  â€¢ ~testVisualLargo.()      - Evento de 15 segundos".postln;
"  â€¢ ~testVisualIntensidad.() - MÃ¡xima intensidad visual".postln;
"  â€¢ ~testVisualSecuencia.()  - 5 puntos en secuencia".postln;
"".postln;
"ğŸ” PARA DIAGNOSTICAR EL PROBLEMA:".postln;
"1. Ejecuta: ~testVisualSimple.()".postln;
"2. Observa si el punto llega al borde derecho de la pantalla".postln;
"3. Si NO llega, el problema estÃ¡ en el algoritmo de movimiento".postln;
"4. Si SÃ llega pero se desvanece, el problema estÃ¡ en el fade/alpha".postln;
"".postln;
"ğŸ“Š DESPUÃ‰S DE CADA TEST, REPORTA:".postln;
"- Â¿El evento aparece?".postln;
"- Â¿Se mueve de izquierda a derecha?".postln;
"- Â¿Llega al final de la pantalla?".postln;
"- Â¿Se desvanece gradualmente o desaparece bruscamente?".postln;
"".postln;

"âœ… Tests de diagnÃ³stico listos. Ejecuta: ~testVisualSimple.()".postln;
