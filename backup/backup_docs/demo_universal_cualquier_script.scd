// demo_universal_cualquier_script.scd
// DEMOSTRACI√ìN: El visualizador funciona con CUALQUIER c√≥digo de SuperCollider
// NO REQUIERE MODIFICACIONES - Solo ejecuta y observa

(
"=== DEMO: VISUALIZADOR UNIVERSAL - CUALQUIER SCRIPT SC ===".postln;
"El visualizador detecta autom√°ticamente CUALQUIER sonido y lo representa visualmente.".postln;
"NO necesitas enviar mensajes OSC espec√≠ficos.".postln;
"Solo ejecuta cualquier c√≥digo de SuperCollider y observa la magia.".postln;
"".postln;

// Funci√≥n principal
var runDemo;

runDemo = {
    Routine({
        
        "üéµ 1. SONIDOS SIMPLES - Tonos puros".postln;
        { SinOsc.ar(220, 0, 0.6) }.play;
        2.wait;
        
        { SinOsc.ar(440, 0, 0.6) }.play;
        2.wait;
        
        { SinOsc.ar(880, 0, 0.6) }.play;
        3.wait;
        
        "üéµ 2. GLISSANDOS - Cambios de frecuencia".postln;
        { SinOsc.ar(XLine.kr(200, 800, 4), 0, 0.7) }.play;
        5.wait;
        
        { SinOsc.ar(XLine.kr(800, 200, 3), 0, 0.7) }.play;
        4.wait;
        
        "üéµ 3. PATRONES R√çTMICOS - Pbind cl√°sico".postln;
        (
        Pbind(
            \freq, Pseq([330, 440, 550, 660], 4),
            \dur, Pseq([0.25, 0.5, 0.25, 0.5], 4),
            \amp, Pseq([0.8, 0.6, 0.9, 0.7], 4)
        ).play;
        );
        6.wait;
        
        "üéµ 4. CLUSTERS - M√∫ltiples frecuencias simult√°neas".postln;
        (
        {
            var freqs = [200, 230, 260, 290, 320];
            Mix.ar(SinOsc.ar(freqs, 0, 0.3 / freqs.size));
        }.play;
        );
        4.wait;
        
        "üéµ 5. TEXTURAS DE RUIDO - Sonidos complejos".postln;
        { WhiteNoise.ar(0.4) * LFNoise1.ar(2).range(0, 1) }.play;
        3.wait;
        
        { BPF.ar(WhiteNoise.ar(0.6), LFNoise0.ar(1).range(200, 2000), 0.1) }.play;
        4.wait;
        
        "üéµ 6. M√öSICA GENERATIVA - Algoritmos complejos".postln;
        (
        Pdef(\generative,
            Pbind(
                \freq, Prand([220, 330, 440, 550, 660] * Prand([1, 1.25, 1.5, 2], inf), inf),
                \dur, Pexprand(0.1, 1.0, inf),
                \amp, Pexprand(0.2, 0.8, inf),
                \pan, Prand([-1, 0, 1], inf)
            )
        ).play;
        );
        8.wait;
        Pdef(\generative).stop;
        
        "üéµ 7. NDEFS - S√≠ntesis en tiempo real".postln;
        (
        Ndef(\drone, {
            var freq = LFNoise1.ar(0.2).range(100, 400);
            var amp = LFNoise1.ar(0.5).range(0.3, 0.8);
            SinOsc.ar(freq * [1, 1.01], 0, amp);
        });
        Ndef(\drone).play;
        );
        5.wait;
        Ndef(\drone).stop;
        
        "üéµ 8. M√öLTIPLES ELEMENTOS SIMULT√ÅNEOS".postln;
        (
        // Bajo
        { SinOsc.ar(60, 0, 0.4) }.play;
        
        // Melod√≠a
        Pbind(
            \freq, Pseq([220, 330, 440, 330], inf),
            \dur, 0.5,
            \amp, 0.6
        ).play;
        
        // Textura
        { BPF.ar(WhiteNoise.ar(0.2), 1500, 0.1) }.play;
        );
        
        6.wait;
        
        "üéâ ¬°DEMO COMPLETADO!".postln;
        "".postln;
        "üéØ OBSERVACIONES:".postln;
        "- Cada sonido fue detectado y visualizado autom√°ticamente".postln;
        "- NO se enviaron mensajes OSC espec√≠ficos".postln;
        "- La direcci√≥n de glissandos coincide con el audio".postln;
        "- La duraci√≥n visual coincide con la duraci√≥n del audio".postln;
        "- Los colores reflejan el contenido frecuencial".postln;
        "- Los patrones complejos se representan adecuadamente".postln;
        "".postln;
        "‚ú® Tu m√∫sica + Visualizador Universal = Experiencia audiovisual completa".postln;
        "Ready para cualquier script de SuperCollider que tengas.".postln;
        
    }).play;
};

// Ejecutar
if(s.serverRunning, {
    "‚úÖ Servidor funcionando - iniciando demo universal...".postln;
    runDemo.value;
}, {
    "‚ö†Ô∏è  Arrancando servidor...".postln;
    s.boot;
    s.waitForBoot({
        "‚úÖ Servidor listo - iniciando demo universal...".postln;
        runDemo.value;
    });
});
)

// EJEMPLOS ADICIONALES PARA PROBAR MANUALMENTE:

/*
// M√∫sica atonal
{ SinOsc.ar(LFNoise0.ar(4).range(200, 2000), 0, 0.5) }.play;

// Ritmos complejos
(
Pbind(
    \freq, Prand([110, 220, 330, 440, 550], inf),
    \dur, Prand([0.125, 0.25, 0.5, 0.75], inf),
    \amp, Prand([0.4, 0.6, 0.8], inf)
).play;
)

// S√≠ntesis FM
{ SinOsc.ar(440 + (SinOsc.ar(200) * 100), 0, 0.6) }.play;

// Granular
{ GrainSin.ar(2, Dust.ar(10), 0.1, 440, 0) }.play;

// Tu propio c√≥digo aqu√≠...
// El visualizador se adaptar√° autom√°ticamente
*/
